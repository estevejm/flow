{% extends 'EJMFlowUIBundle:Layout:base.html.twig' %}

{% block stylesheets %}

    {{ parent() }}

    <link rel="stylesheet" href="{{ asset('bundles/ejmflowui/main.css') }}">

{% endblock %}

{% block body %}
    {% include 'EJMFlowUIBundle:Partial:navbar.html.twig' %}
{% endblock %}

{% block javascripts %}

    {{ parent() }}

    <script>
        var flow = {
            config: {
                canvas: {
                    width: window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,
                    height: window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight
                },
                force: {
                    charge: -1000,
                    linkDistance: 100
                }
            },
            component: {}
        };
    </script>

    <script src="{{ asset('bundles/ejmflowui/finder.js') }}"></script>
    <script src="{{ asset('bundles/ejmflowui/graph.js') }}"></script>
    <script src="{{ asset('bundles/ejmflowui/search.js') }}"></script>
    <script src="{{ asset('bundles/ejmflowui/validation.js') }}"></script>

    <script>
        PubSub.publish('graph.load', '{{ graph_uri }}');
        PubSub.publish('validation.load', '{{ validation_uri }}');
    </script>

{% endblock %}